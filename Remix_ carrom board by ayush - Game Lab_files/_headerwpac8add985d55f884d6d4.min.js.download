(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{1115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EXPO_SDK_VERSION="34.0.0";var n=t.PLATFORM_ANDROID="android";t.PLATFORM_IOS="ios",t.DEFAULT_PLATFORM=n},1587:function(e,t,r){e.exports=r.p+"iconwp9e094c2652e91fbe16ffcfd5a42e3afa.png"},2367:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),a=(n=o)&&n.__esModule?n:{default:n};t.default={button:{borderWidth:1,borderColor:a.default.border_gray,fontSize:"larger",outline:"none",padding:10,marginTop:0,marginBottom:0,marginLeft:0,marginRight:8,verticalAlign:"top"},section:{marginTop:10},text:{fontSize:"inherit",lineHeight:"inherit",color:"inherit"},title:{fontSize:16}},e.exports=t.default},3069:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedProjectRemix=void 0;var n=u(r(0)),o=u(r(1)),a=r(8),l=u(r(4)),i=r(408);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=c(this,a.call.apply(a,[this].concat(n)))).remixProject=function(){if(dashboard.project.getCurrentId()&&dashboard.project.canServerSideRemix())dashboard.project.serverSideRemix();else if(t.props.isSignedIn){var e="Remix: "+(dashboard.project.getCurrentName()||appOptions.level.projectTemplateLevelName||"My Project");dashboard.project.copy(e,{shouldNavigate:!0}).then(function(){return t.props.refreshProjectName()}).catch(function(e){return console.log(e)})}else window.location.assign("/users/sign_in?user_return_to="+window.location.pathname)},c(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){var e="project_remix header_button";return this.props.lightStyle&&(e+=" header_button_light"),o.default.createElement("div",{className:e,onClick:this.remixProject},l.default.remix())},i}(o.default.Component);s.propTypes={isSignedIn:n.default.bool,lightStyle:n.default.bool,refreshProjectName:n.default.func.isRequired};t.UnconnectedProjectRemix=s;t.default=(0,a.connect)(function(e){return{isSignedIn:e.pageConstants&&e.pageConstants.isSignedIn}},{refreshProjectName:i.refreshProjectName})(s)},3216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1)),o=a(r(4)),l=r(1701);function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=u(this,a.call.apply(a,[this].concat(n)))).shareProject=function(){(0,l.shareProject)(dashboard.project.getShareUrl())},u(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){return n.default.createElement("div",{className:"project_share header_button header_button_light",onClick:this.shareProject},o.default.share())},i}(n.default.Component);t.default=i,e.exports=t.default},3217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),o=i(r(4)),a=r(3793);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return n.default.createElement("div",{className:"project_share header_button header_button_light",onClick:a.exportProject},o.default.export())},t}(n.default.Component);t.default=l,e.exports=t.default},3785:function(e,t,r){r(65),r(66),e.exports=r(3786)},3786:function(e,t,r){"use strict";var n=u(r(1)),o=u(r(7)),a=r(8),i=u(r(3787)),l=r(44);function u(e){return e&&e.__esModule?e:{default:e}}var c=document.getElementsByClassName("project_info");c.length&&o.default.render(n.default.createElement(a.Provider,{store:(0,l.getStore)()},n.default.createElement(i.default,null)),c[0])},3787:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedProjectInfo=void 0;var o=p(r(0)),a=p(r(1)),i=r(8),l=p(r(3788)),u=p(r(3801)),c=p(r(3802)),s=p(r(3803)),d=r(408);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=(f(n={},d.possibleHeaders.project,l.default),f(n,d.possibleHeaders.minimalProject,u.default),f(n,d.possibleHeaders.projectBacked,c.default),f(n,d.possibleHeaders.levelBuilderSave,s.default),n),b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){if(!this.props.currentHeader)return null;var e=h[this.props.currentHeader];return a.default.createElement(e,null)},t}(a.default.Component);b.propTypes={currentHeader:o.default.oneOf(Object.values(d.possibleHeaders))};t.UnconnectedProjectInfo=b;t.default=(0,i.connect)(function(e){return{currentHeader:e.header.currentHeader}})(b)},3788:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedProjectHeader=void 0;var n=p(r(0)),o=p(r(1)),a=r(8),i=p(r(4)),l=p(r(3789)),u=p(r(3791)),c=p(r(3069)),s=p(r(3216)),d=p(r(3217));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.includeExportInProjectHeader;return o.default.createElement("div",null,o.default.createElement(l.default,null),o.default.createElement(s.default,null),e&&o.default.createElement(d.default,null),o.default.createElement(c.default,{lightStyle:!0}),appOptions.level.isConnectionLevel&&o.default.createElement(u.default,null),"weblab"===appOptions.app&&o.default.createElement("div",{className:"beta-notice"},i.default.beta()))},t}(o.default.Component);f.propTypes={includeExportInProjectHeader:n.default.bool.isRequired};t.UnconnectedProjectHeader=f;t.default=(0,a.connect)(function(e){return{includeExportInProjectHeader:e.header.includeExportInProjectHeader}},null)(f)},3789:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(0)),o=c(r(1)),l=c(r(4)),a=r(8),i=c(r(3068)),u=r(408);function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f={buttonWrapper:{float:"left"}},h=function(e){function t(){return s(this,t),d(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){return o.default.createElement("div",{style:f.buttonWrapper},o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("div",{className:"project_name header_text"},this.props.projectName),o.default.createElement(i.default,null)),o.default.createElement("div",{className:"project_edit header_button header_button_light",onClick:this.props.beginEdit},l.default.rename()))},t}(o.default.Component);h.propTypes={beginEdit:n.default.func.isRequired,projectName:n.default.string.isRequired};var b=(0,a.connect)(function(e){return{projectName:e.header.projectName}})(h),y=function(a){function i(){var e,t;s(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=d(this,a.call.apply(a,[this].concat(n)))).state={savingName:!1},t.saveNameChange=function(){if(!t.state.savingName){var e=t.nameChangeInput.value.trim().substr(0,100);0!==e.length&&(dashboard.project.rename(e,function(){dashboard.header.updateTimestamp(),t.props.refreshProjectName(),t.setState({savingName:!1}),t.props.finishEdit()}),t.setState({savingName:!0}))}},d(t,e)}return p(i,a),i.prototype.render=function(){var t=this;return o.default.createElement("div",{style:f.buttonWrapper},o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("input",{type:"text",className:"project_name header_input",maxLength:"100",defaultValue:this.props.projectName,ref:function(e){t.nameChangeInput=e}})),o.default.createElement("div",{className:"project_save header_button header_button_light",onClick:this.saveNameChange,disabled:this.state.savingName},l.default.save()))},i}(o.default.Component);y.propTypes={finishEdit:n.default.func.isRequired,projectName:n.default.string.isRequired,refreshProjectName:n.default.func.isRequired};var m=(0,a.connect)(function(e){return{projectName:e.header.projectName}},{refreshProjectName:u.refreshProjectName})(y),v=function(a){function i(){var e,t;s(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=d(this,a.call.apply(a,[this].concat(n)))).state={editName:!1},t.beginEdit=function(){t.setState({editName:!0})},t.finishEdit=function(){t.setState({editName:!1})},d(t,e)}return p(i,a),i.prototype.render=function(){return this.state.editName?o.default.createElement(m,{finishEdit:this.finishEdit}):o.default.createElement(b,{beginEdit:this.beginEdit})},i}(o.default.Component);t.default=v,e.exports=t.default},3791:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(9)),n=o(r(1)),d=o(r(4)),p=r(3792);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=l(this,a.call.apply(a,[this].concat(n)))).importProject=function(){Craft&&Craft.showImportFromShareLinkPopup(function(e){if(e){var t=void 0;try{var r=document.createElement("a");r.href=e,t=r.pathname}catch(e){return void Craft.showErrorMessagePopup(d.default.projectShareLinkImportBadLinkHeader(),d.default.projectShareLinkImportBadLinkBody())}var n=/^\/?c\/([^\/]*)/,o=/^\/?r\/([^\/]*)/,a=/^\/?projects\/minecraft_hero\/([^\/]*)/,i=void 0,l=void 0;if(t.match(n))i="/c/"+t.match(n)[1]+".json";else if(t.match(o)){i="/r/"+t.match(o)[1]+".json"}else t.match(a)&&(l=t.match(a)[1]);var u=function(e){var t=(0,p.convertBlocksXml)(e);dashboard.project.createNewChannelFromSource(t,function(e){var t=dashboard.project.appToProjectUrl()+"/"+e.id+"/edit";location.href=t})},c=function(){Craft.showErrorMessagePopup(d.default.projectShareLinkImportErrorHeader(),d.default.projectShareLinkImportErrorBody())};i?s.default.ajax({url:i,type:"get",dataType:"json"}).done(function(e){u(e.data)}).error(function(){c()}):l?dashboard.project.getSourceForChannel(l,function(e){e?u(e):c()}):Craft.showErrorMessagePopup(d.default.projectShareLinkImportBadLinkHeader(),d.default.projectShareLinkImportBadLinkBody())}})},l(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){return n.default.createElement("div",{className:"project_import header_button header_button_light",onClick:this.importProject},d.default.import())},i}(n.default.Component);t.default=a,e.exports=t.default},3792:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlocksXml=function(e){for(var t,r=(0,a.parseElement)(e),n=0;t=r.childNodes[n];n++)"block"===t.nodeName.toLowerCase()&&p(t);return(0,a.serialize)(r)};var a=r(603);function i(e,t){for(var r,n=0;r=e.childNodes[n];n++)if(r.nodeName.toLowerCase()===t)return r}function l(e,t){for(var r,n=0;r=e.childNodes[n];n++)if("title"===r.nodeName.toLowerCase()&&r.getAttribute("name")===t)return r}var u=["bricks","cobblestone","dirt","grass","gravel","ice","logAcacia","logBirch","logJungle","logOak","logSpruce","planksAcacia","planksBirch","planksJungle","planksOak","planksSpruce","rails","sand","sandstone","snow","stone","wool_blue","wool_magenta","wool_orange","wool_pink","wool_red","wool_yellow"],c=Object.freeze({0:"forward",1:"right",2:"back",3:"left"}),s=Object.freeze({bricks:"brick_block",clayHardened:"hardened_clay",oreCoal:"coal_ore",oreDiamond:"diamond_ore",oreEmerald:"emerald_ore",oreGold:"gold_ore",oreIron:"iron_ore",oreLapis:"lapis_ore",oreRedstone:"redstone_ore",deadBush:"deadbush",netherBrick:"netherbrick",quartzOre:"ore_quartz",topSnow:"snow_layer",dirtCoarse:"dirt",farmlandWet:"dirt",lava:"dirt",water:"dirt",grassPath:"dirt",snowyGrass:"dirt",tnt:"dirt",tree:"dirt",wool:"dirt",logAcacia:"log2,0",logBirch:"log,2",logJungle:"log,3",logOak:"log",logSpruce:"log,1",planksAcacia:"planks,4",planksBirch:"planks,2",planksJungle:"planks,3",planksOak:"planks",planksSpruce:"planks,1"}),d=Object.freeze({craft_moveForward:function(e){var t=i(e,"next");return'\n      <block type="craft_move">\n        <title name="DIR">forward</title>\n        '+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_moveBackward:function(e){var t=i(e,"next");return'\n      <block type="craft_move">\n        <title name="DIR">back</title>\n        '+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_placeBlock:function(e){var t=i(e,"next"),r=i(e,"title").textContent;return'\n      <block type="craft_place" inline="false">\n        <title name="DIR">down</title>\n        <value name="SLOTNUM">\n          <block type="math_number">\n            <title name="NUM">'+(u.indexOf(r)+1||1)+"</title>\n          </block>\n        </value>\n        "+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_placeBlockDirection:function(e){var t=i(e,"next"),r=l(e,"TYPE").textContent,n=l(e,"DIR").textContent,o=u.indexOf(r)+1||1;return'\n      <block type="craft_place" inline="false">\n        <title name="DIR">'+c[n]+'</title>\n        <value name="SLOTNUM">\n          <block type="math_number">\n            <title name="NUM">'+o+"</title>\n          </block>\n        </value>\n        "+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_destroyBlock:function(e){var t=i(e,"next");return'\n      <block type="craft_destroy">\n        <title name="DIR">forward</title>\n        '+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_ifBlockAhead:function(e){var t=i(e,"statement"),r=i(e,"next"),n=i(e,"title");t&&t.setAttribute("name","DO0");var o=n.textContent;return s[o]&&(o=s[o]),'\n      <block type="controls_if" inline="false">\n        <value name="IF0">\n          <block type="logic_compare" inline="true">\n            <title name="OP">EQ</title>\n            <value name="A">\n              <block type="craft_inspect">\n                <title name="DIR">forward</title>\n              </block>\n            </value>\n            <value name="B">\n              <block type="craft_getnameof" inline="false">\n                <value name="ITEM">\n                  <block type="craft_block">\n                    <title name="BLOCK">'+o+"</title>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n        "+(t?(0,a.serialize)(t):"")+"\n        "+(r?(0,a.serialize)(r):"")+"\n      </block>\n    "}});function p(e){for(var t,r=e.getAttribute("type"),n=0;t=e.childNodes[n];n++)"next"!==t.nodeName.toLowerCase()&&"statement"!==t.nodeName.toLowerCase()||!t.childNodes.length||p(t.childNodes[0]);if(d[r]){var o=d[r](e),a=(new DOMParser).parseFromString(o,"text/xml").firstChild;e.parentNode.replaceChild(a,e)}}},3793:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportProject=function(){s.default.saveIfSourcesChanged().then(function(){var e=document.getElementById("project-export-dialog");e||((e=document.createElement("div")).setAttribute("id","project-export-dialog"),document.body.appendChild(e));var t=s.default.getStandaloneApp(),r=(0,u.getStore)().getState().pageConstants,n=r.is13Plus||!r.isSignedIn;a.default.render(o.default.createElement(l.Provider,{store:(0,u.getStore)()},o.default.createElement(i.default,{isProjectLevel:!!s.default.isProjectLevel(),i18n:d.default,md5SavedSources:s.default.md5CurrentSources(),isAbusive:s.default.exceedsAbuseThreshold(),channelId:s.default.getCurrentId(),appType:t,canShareSocial:n,userSharingDisabled:appOptions.userSharingDisabled})),e),(0,u.getStore)().dispatch((0,c.showExportDialog)())})};var o=n(r(1)),a=n(r(7)),i=n(r(3794)),l=r(8),u=r(44),c=r(670),s=n(r(105)),d=n(r(1583));function n(e){return e&&e.__esModule?e:{default:e}}},3794:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedExportDialog=void 0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=S(r(0)),y=S(r(1)),o=r(8),l=S(r(67)),m=S(r(1111)),a=S(r(6)),u=r(1115),i=r(670),c=S(r(4)),v=r(287),s=S(r(75)),p=S(r(105)),f=S(r(2367)),h=S(r(3795)),b=S(r(3796)),g=S(r(3797)),_=S(r(3798)),k=S(r(3799)),E=S(r(3800));function S(e){return e&&e.__esModule?e:{default:e}}function w(e){return function(){var l=e.apply(this,arguments);return new Promise(function(a,i){return function t(e,r){try{var n=l[e](r),o=n.value}catch(e){return void i(e)}if(!n.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});a(o)}("next")})}}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e){s.default.putRecord({study:"finish-dialog-export",study_group:"v1",event:"project-export",project_id:p.default.getCurrentId(),data_string:e},{includeUserId:!0})}var O={modal:{width:720,marginLeft:-360},abuseStyle:{border:"1px solid",borderRadius:10,padding:10,marginBottom:20},abuseTextStyle:{color:"#b94a48",fontSize:14},shareWarning:{color:a.default.red,fontSize:13,fontWeight:"bold"},cancelButton:d({},f.default.button,{backgroundColor:a.default.gray,color:a.default.black}),actionButton:d({},f.default.button,{backgroundColor:a.default.orange,color:a.default.white}),actionButtonDisabled:d({},f.default.button,{backgroundColor:a.default.gray,color:a.default.white}),backButton:d({},f.default.button,{backgroundColor:a.default.gray,color:a.default.black}),backButtonDisabled:d({},f.default.button,{backgroundColor:a.default.gray,color:a.default.white}),buttonRow:d({},f.default.section,{display:"flex",justifyContent:"flex-end"})},P=function(a){function i(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n=x(this,a.call.apply(a,[this].concat(r)))).state={screen:"intro",platform:u.DEFAULT_PLATFORM},n.close=function(){j("close"),n.props.onClose()},n.onIconSelected=function(e){n.setState({iconFileUrl:e})},n.onPlatformChanged=function(e){n.setState({platform:e})},n.onActionButton=function(){var e=n.state,t=e.screen,r=e.platform;switch(t){case"intro":n.setState({screen:"platform"});break;case"platform":n.setState({screen:"icon"});break;case"icon":n.setState({screen:r===u.PLATFORM_ANDROID?"publishAndroid":"publishIOS"});break;case"publishAndroid":n.generateApkAsNeeded(),n.setState({screen:"generating"});break;case"publishIOS":n.publishExpoExport(),n.setState({screen:"generating"});break;case"generating":n.isPublishingForIOSWithoutError()&&n.visitExpoSite(),n.close();break;default:throw new Error("ExportDialog: Unexpected screen: "+t)}},n.onBackButton=function(){var e=n.state,t=e.platform,r=e.screen;switch(r){case"intro":break;case"platform":n.setState({screen:"intro"});break;case"icon":n.setState({screen:"platform"});break;case"publishAndroid":case"publishIOS":n.setState({screen:"icon"});break;case"generating":n.setState({screen:t===u.PLATFORM_ANDROID?"publishAndroid":"publishIOS"});break;default:throw new Error("ExportDialog: Unexpected screen: "+r)}},n.onCancelButton=function(){n.state.exporting&&n.resetExportState(),n.cancelIfGeneratingAndResetState(),n.close()},x(n,e)}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.componentDidUpdate=function(e){var t=this.props,r=t.isOpen,n=t.md5SavedSources,o=this.state.md5PublishSavedSources;if(r&&!e.isOpen){j("open");var a=this.getMd5ApkSavedSources(),i=o&&n!==o;a&&n!==a&&this.cancelIfPreexistingApkBuild(),i&&this.cancelIfGeneratingAndResetState()}},i.prototype.clearWaitTimer=function(){this.waitTimerId&&(clearTimeout(this.waitTimerId),this.waitTimerId=null)},i.prototype.cancelIfGeneratingAndResetState=function(){var e=this.state,t=e.screen,r=e.generatingApk;if("generating"===t&&r){this.clearWaitTimer();var n=this.props,o=n.expoCancelApkBuild,a=n.md5SavedSources,i=this.state;o({md5SavedSources:a,expoSnackId:i.expoSnackId,apkBuildId:i.apkBuildId})}this.resetExportState()},i.prototype.getMd5ApkSavedSources=function(){var e=this.props.exportGeneratedProperties,t=(void 0===e?{}:e).android;return(void 0===t?{}:t).md5ApkSavedSources},i.prototype.cancelIfPreexistingApkBuild=function(){var e=this.props.exportGeneratedProperties,t=(void 0===e?{}:e).android,r=void 0===t?{}:t,n=r.md5ApkSavedSources,o=r.snackId,a=r.apkBuildId,i=r.apkUri;a&&!i&&(0,this.props.expoCancelApkBuild)({md5SavedSources:n,expoSnackId:o,apkBuildId:a})},i.prototype.resetExportState=function(){this.setState({screen:"intro",exporting:!1,exportError:null,expoUri:void 0,expoSnackId:void 0,iconFileUrl:void 0,iconUri:void 0,md5PublishSavedSources:void 0,platform:u.DEFAULT_PLATFORM,splashImageUri:void 0,apkUri:void 0,generatingApk:!1,apkError:null})},i.prototype.publishExpoExport=(e=w(regeneratorRuntime.mark(function e(){var t,r,n,o,a,i,l,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,r=t.expoUri,n=t.expoSnackId,o=t.iconFileUrl,a=t.iconUri,i=t.splashImageUri,r)return e.abrupt("return",{expoUri:r,expoSnackId:n,iconUri:a,splashImageUri:i});e.next=3;break;case 3:return l=this.props,u=l.exportApp,c=l.md5SavedSources,this.setState({exporting:!0,md5PublishSavedSources:c}),e.prev=5,e.next=8,u({mode:"expoPublish",iconFileUrl:o});case 8:if(s=e.sent,this.state.exporting){e.next=12;break}return e.abrupt("return",{});case 12:return this.setState(d({exporting:!1,exportError:null},s)),e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(5),this.setState({exporting:!1,md5PublishSavedSources:null,expoUri:null,expoSnackId:null,exportError:"Failed to create app. Please try again later."});case 19:return e.abrupt("return",{expoUri:r,expoSnackId:n,iconUri:a,splashImageUri:i});case 20:case"end":return e.stop()}},e,this,[[5,16]])})),function(){return e.apply(this,arguments)}),i.prototype.publishAndGenerateApk=(t=w(regeneratorRuntime.mark(function e(){var t,r,n,o,a,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.expoGenerateApk,n=t.md5SavedSources,this.state.apkUri)return e.abrupt("return");e.next=4;break;case 4:return e.next=6,this.publishExpoExport();case 6:if(o=e.sent,a=o.expoSnackId,i=o.iconUri,l=o.splashImageUri,a){e.next=12;break}return e.abrupt("return");case 12:return this.setState({generatingApk:!0}),e.prev=13,e.next=16,r({md5SavedSources:n,expoSnackId:a,iconUri:i,splashImageUri:l});case 16:return u=e.sent,this.setState({apkBuildId:u}),e.abrupt("return",this.waitForApkBuild(u,a));case 21:e.prev=21,e.t0=e.catch(13),this.setState({generatingApk:!1,apkError:"Failed to create Android app. Please try again later.",apkUri:null,apkBuildId:null});case 24:case"end":return e.stop()}},e,this,[[13,21]])})),function(){return t.apply(this,arguments)}),i.prototype.visitExpoSite=function(){var e=this.state.expoSnackId;e&&window.open("https://snack.expo.io/"+e,"_blank")},i.prototype.checkForApkBuild=function(e,t){var r=this.props;return(0,r.expoCheckApkBuild)({md5SavedSources:r.md5SavedSources,expoSnackId:t,apkBuildId:e})},i.prototype.waitForApkBuild=(r=w(regeneratorRuntime.mark(function e(t,r){var n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.clearWaitTimer(),e.prev=1,e.next=4,this.checkForApkBuild(t,r);case 4:if(n=e.sent,this.state.generatingApk){e.next=8;break}return e.abrupt("return");case 8:n?this.setState({generatingApk:!1,apkError:null,apkUri:n}):this.waitTimerId=setTimeout(function(){o.waitTimerId=null,o.waitForApkBuild(t,r)},6e4),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),this.setState({generatingApk:!1,apkError:"Failed to create Android app. Please try again later.",apkUri:null,apkBuildId:null});case 14:case"end":return e.stop()}},e,this,[[1,11]])})),function(e,t){return r.apply(this,arguments)}),i.prototype.getValidPreviousApkInfo=function(){var e=this.props,t=e.exportGeneratedProperties,r=void 0===t?{}:t,n=e.md5SavedSources,o=r.android,a=void 0===o?{}:o,i=a.md5ApkSavedSources,l=function(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(a,["md5ApkSavedSources"]);return i&&n===i?l:{}},i.prototype.generateApkAsNeeded=function(){var e=this.getValidPreviousApkInfo(),t=e.apkUri,r=e.apkBuildId,n=e.snackId,o=this.props.md5SavedSources;return t?(this.setState({apkUri:t,apkBuildId:r,expoSnackId:n,md5PublishSavedSources:o}),Promise.resolve()):r?(this.setState({generatingApk:!0,apkUri:null,apkBuildId:r,expoSnackId:n,md5PublishSavedSources:o}),this.waitForApkBuild(r,n)):this.publishAndGenerateApk()},i.prototype.renderMainContent=function(){var e=this.state,t=e.screen,r=e.iconFileUrl,n=e.platform;switch(t){case"intro":return y.default.createElement(h.default,null);case"platform":return y.default.createElement(b.default,{platform:n,onPlatformChanged:this.onPlatformChanged});case"icon":return y.default.createElement(g.default,{iconFileUrl:r,onIconSelected:this.onIconSelected});case"publishAndroid":return y.default.createElement(_.default,null);case"publishIOS":return y.default.createElement(k.default,null);case"generating":var o=this.props.appType,a=this.state,i=a.exportError,l=a.apkError,u=a.apkUri;return y.default.createElement(E.default,{appType:o,platform:n,isGenerating:this.isGenerating(),exportError:i,apkError:l,apkUri:u});default:throw new Error("ExportDialog: Unexpected screen: "+t)}},i.prototype.isGenerating=function(){var e=this.state,t=e.screen,r=e.exporting,n=e.generatingApk;return"generating"===t&&!(!r&&!n)},i.prototype.isPublishingForIOSWithoutError=function(){var e=this.state,t=e.platform,r=e.exportError;return"ios"===t&&!r},i.prototype.getActionButtonInfo=function(){var e={text:"Next",enabled:!0};switch(this.state.screen){case"generating":e.text=this.isPublishingForIOSWithoutError()?"Continue with Expo.io":"Finish",e.enabled=!this.isGenerating();break;case"publishAndroid":e.text="Create"}return e},i.prototype.backButtonEnabled=function(){var e=this.state,t=e.screen,r=e.exporting,n=e.generatingApk;switch(t){case"intro":return!1;case"generating":return!r&&!n;default:return!0}},i.prototype.renderBlocked=function(){var e=this.props.userSharingDisabled?c.default.sharingBlockedByTeacher():c.default.createAccountToShareDescription();return y.default.createElement("div",{style:{position:"relative"}},y.default.createElement("div",{style:{paddingRight:10}},y.default.createElement("p",null,e)),y.default.createElement("div",{style:{clear:"both",height:40}},y.default.createElement("button",{type:"button",id:"continue-button",style:{position:"absolute",right:0,bottom:0,margin:0},onClick:this.close},c.default.dialogOK())))},i.prototype.renderWrappedInBaseDialog=function(e){var t=this.props,r=t.hideBackdrop,n=t.isOpen;return y.default.createElement("div",null,y.default.createElement(l.default,{style:O.modal,isOpen:n,handleClose:this.close,hideBackdrop:r},e))},i.prototype.render=function(){var e=this.props,t=e.canShareSocial,r=e.i18n,n=e.isAbusive,o=e.isProjectLevel,a=e.signInState,i=e.userSharingDisabled,l=this.state.screen,u=!o&&a!==v.SignInState.SignedIn;if(i||u)return this.renderWrappedInBaseDialog(this.renderBlocked());var c=this.getActionButtonInfo(),s=c.text,d=c.enabled,p="intro"!==l,f=this.isGenerating(),h=this.backButtonEnabled(),b=!t;return this.renderWrappedInBaseDialog(y.default.createElement("div",null,y.default.createElement("div",{id:"project-export",className:"modal-content no-modal-icon",style:{position:"relative"}},y.default.createElement("p",{className:"dialog-title"},"Export your project"),n&&y.default.createElement(m.default,{i18n:{tos:r.t("project.abuse.tos"),contact_us:r.t("project.abuse.contact_us")},className:"alert-error",style:O.abuseStyle,textStyle:O.abuseTextStyle}),b&&y.default.createElement("p",{style:O.shareWarning},r.t("project.share_u13_warning")),this.renderMainContent(),y.default.createElement("div",{style:O.buttonRow},f&&y.default.createElement("button",{type:"button",style:O.cancelButton,onClick:this.onCancelButton},"Cancel Package Creation"),p&&y.default.createElement("button",{type:"button",style:h?O.backButton:O.backButtonDisabled,onClick:this.onBackButton,disabled:!h},"Back"),y.default.createElement("button",{type:"button",style:d?O.actionButton:O.actionButtonDisabled,onClick:this.onActionButton,disabled:!d},s)))))},i}(y.default.Component);P.propTypes={i18n:n.default.shape({t:n.default.func.isRequired}).isRequired,exportApp:n.default.func.isRequired,expoGenerateApk:n.default.func.isRequired,expoCheckApkBuild:n.default.func.isRequired,expoCancelApkBuild:n.default.func.isRequired,exportGeneratedProperties:n.default.object,md5SavedSources:n.default.string.isRequired,isAbusive:n.default.bool.isRequired,isOpen:n.default.bool.isRequired,appType:n.default.string.isRequired,onClose:n.default.func.isRequired,hideBackdrop:l.default.propTypes.hideBackdrop,canShareSocial:n.default.bool.isRequired,userSharingDisabled:n.default.bool,signInState:n.default.oneOf(Object.values(v.SignInState)),isProjectLevel:n.default.bool.isRequired};t.UnconnectedExportDialog=P;t.default=(0,o.connect)(function(e){return{exportApp:e.pageConstants.exportApp,expoGenerateApk:e.pageConstants.expoGenerateApk,expoCheckApkBuild:e.pageConstants.expoCheckApkBuild,expoCancelApkBuild:e.pageConstants.expoCancelApkBuild,isOpen:e.exportDialog.isOpen,exportGeneratedProperties:e.exportDialog.exportGeneratedProperties,signInState:e.currentUser.signInState}},function(e){return{onClose:function(){return e((0,i.hideExportDialog)())}}})(P)},3795:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1)),o=a(r(2367));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return n.default.createElement("div",null,n.default.createElement("div",{style:o.default.section},n.default.createElement("p",{style:o.default.title},"Code Studio can export your project as a mobile app for iOS or Android")),n.default.createElement("div",{style:o.default.section},n.default.createElement("p",{style:o.default.text},"Exporting will create a mobile app that you can install on your phone. You can install that app on your phone and run it without opening the Code.org website. If you make changes to your app after you export, you will need to export it again.")))},t}(n.default.Component);t.default=i,e.exports=t.default},3796:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=i(r(0)),l=i(r(1)),a=i(r(6)),u=r(1115),c=i(r(107)),s=i(r(2367));function i(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p={radioLabel:n({},s.default.text,{display:"inline-block"}),radioLabelDisabled:n({},s.default.text,{display:"inline-block",color:a.default.light_gray}),radioInput:{height:18,verticalAlign:"middle"}},f=function(a){function i(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r=d(this,a.call.apply(a,[this].concat(n)))).onRadioChange=function(e){var t=e.target.id;(0,r.props.onPlatformChanged)("radioAndroid"===t?u.PLATFORM_ANDROID:u.PLATFORM_IOS)},d(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){var e=this.props.platform,t=c.default.isEnabled("exportIOS"),r=t?p.radioLabel:p.radioLabelDisabled,n="I have an iOS device"+(t?"":" (currently not supported)");return l.default.createElement("div",null,l.default.createElement("div",{style:s.default.section},l.default.createElement("p",{style:s.default.title},"Choose your platform")),l.default.createElement("div",{style:s.default.section},l.default.createElement("div",null,l.default.createElement("input",{style:p.radioInput,type:"radio",id:"radioAndroid",checked:e===u.PLATFORM_ANDROID,onChange:this.onRadioChange}),l.default.createElement("label",{htmlFor:"radioAndroid",style:p.radioLabel},"I have an Android device")),l.default.createElement("div",null,l.default.createElement("input",{style:p.radioInput,type:"radio",id:"radioIOS",checked:e===u.PLATFORM_IOS,disabled:!t,onChange:this.onRadioChange}),l.default.createElement("label",{htmlFor:"radioIOS",style:r},n))),l.default.createElement("div",{style:s.default.section},l.default.createElement("p",{style:s.default.text},l.default.createElement("b",null,"Note: "),"Exporting will take 10-15 minutes. If you change your app after you start exporting, those changes will not be included.")))},i}(l.default.Component);f.propTypes={platform:o.default.oneOf([u.PLATFORM_IOS,u.PLATFORM_ANDROID]).isRequired,onPlatformChanged:o.default.func.isRequired},t.default=f,e.exports=t.default},3797:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=i(r(0)),l=i(r(1)),a=i(r(6)),u=i(r(1587)),c=i(r(2367));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d={icon:{marginRight:10,width:125,height:125,overflow:"hidden",borderRadius:2,border:"1px solid rgb(187,187,187)",backgroundColor:a.default.black,position:"relative",display:"inline-block"},uploadIconButton:n({},c.default.button,{backgroundColor:a.default.default_blue,color:a.default.white}),hiddenFileInput:{display:"none"}},p=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=s(this,a.call.apply(a,[this].concat(n)))).onUploadFileInputChange=function(){t.uploadFileInput.value&&(0,t.props.onIconSelected)(URL.createObjectURL(t.uploadFileInput.files[0]))},t.onUploadIcon=function(){t.uploadFileInput.click()},s(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){var t=this,e=this.props.iconFileUrl||u.default;return l.default.createElement("div",null,l.default.createElement("div",{style:c.default.section},l.default.createElement("p",{style:c.default.title},"Upload your App icon")),l.default.createElement("div",{style:c.default.section},l.default.createElement("div",{style:d.icon},l.default.createElement("img",{src:e})),l.default.createElement("button",{type:"button",style:d.uploadIconButton,onClick:this.onUploadIcon},"Upload another image")),l.default.createElement("input",{ref:function(e){return t.uploadFileInput=e},type:"file",style:d.hiddenFileInput,accept:"image/png",onChange:this.onUploadFileInputChange}))},i}(l.default.Component);p.propTypes={iconFileUrl:o.default.string,onIconSelected:o.default.func.isRequired},t.default=p,e.exports=t.default},3798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1)),o=a(r(2367));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return n.default.createElement("div",null,n.default.createElement("div",{style:o.default.section},n.default.createElement("p",{style:o.default.title},"Create Android Package")),n.default.createElement("div",{style:o.default.section},n.default.createElement("p",{style:o.default.text},"An Android Package (APK) is a package of code and other files that can be installed as an app on an Android device."),n.default.createElement("p",{style:o.default.text},n.default.createElement("b",null,"Note: "),'After you click "Create", it will take about 10-15 minutes to create the package.')))},t}(n.default.Component);t.default=i,e.exports=t.default},3799:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1)),o=a(r(2367));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return n.default.createElement("div",null,n.default.createElement("div",{style:o.default.section},n.default.createElement("p",{style:o.default.title},"Create iOS App Store Package")),n.default.createElement("div",{style:o.default.section},n.default.createElement("p",{style:o.default.text},"An iOS App Store Package (IPA) is a package of code and other files that can be installed as an app on an iOS device."),n.default.createElement("p",{style:o.default.text},n.default.createElement("b",null,"Note: "),"You must have an Apple developer account to create an IPA using our Code.org partner site, Expo.io."),n.default.createElement("p",{style:o.default.text},n.default.createElement("b",null,"Note: "),'After you click "Continue with Expo.io", you will need to create an Expo account if you don\'t have one already. You will then be asked to enter your Apple developer account credentials in order to continue.')))},t}(n.default.Component);t.default=i,e.exports=t.default},3800:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=i(r(0)),h=i(r(1)),b=i(r(4)),a=i(r(6)),y=r(1115),m=i(r(1155)),v=i(r(2367));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g={uriInput:{cursor:"copy",width:"unset"},spinner:{fontSize:24},phoneLabel:{marginTop:15,marginBottom:0},apkUriContainer:{display:"flex",flexDirection:"column"},sendToPhoneButton:n({},v.default.button,{backgroundColor:a.default.purple,color:a.default.white}),sendToPhoneButtonBody:{display:"flex",alignItems:"center"},sendToPhoneIcon:{fontSize:32,width:30,margin:"-8px 0"}},u=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=l(this,a.call.apply(a,[this].concat(n)))).state={showSendToPhone:!1},t.onInputSelect=function(e){e.target.select()},t.showSendToPhone=function(){t.setState({showSendToPhone:!0})},l(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){var e=this.state.showSendToPhone,t=this.props,r=t.appType,n=t.platform,o=t.exportError,a=t.apkError,i=t.apkUri,l=void 0===i?"":i,u=t.isGenerating,c=o||a,s=n===y.PLATFORM_ANDROID,d=s?"Android":"iOS App Store",p=u?"Creating "+d+" Package...":c?"Error creating "+d+" Package":s?"The Android Package was created successfully":"Your app is ready to be exported",f=void 0;return f=s?u?"Please wait for about <b>15 minutes</b>.":c||"Send this link to your device to install the app.":u?"Please wait.":c||"",h.default.createElement("div",null,h.default.createElement("div",{style:v.default.section},h.default.createElement("p",{style:v.default.title},p)),h.default.createElement("div",{style:v.default.section},h.default.createElement("p",{style:v.default.text,dangerouslySetInnerHTML:{__html:f}})),h.default.createElement("div",{style:v.default.section},u&&h.default.createElement("i",{style:g.spinner,className:"fa fa-spinner fa-spin"}),!u&&!c&&s&&h.default.createElement("div",null,h.default.createElement("div",{style:g.apkUriContainer},h.default.createElement("input",{type:"text",onClick:this.onInputSelect,readOnly:"true",value:l,style:g.uriInput})),h.default.createElement("button",{type:"button",style:g.sendToPhoneButton,onClick:this.showSendToPhone},h.default.createElement("div",{style:g.sendToPhoneButtonBody},h.default.createElement("i",{className:"fa fa-mobile-phone",style:g.sendToPhoneIcon}),h.default.createElement("span",null,b.default.sendToPhone()))),e&&h.default.createElement(m.default,{appType:r,downloadUrl:l,isLegacyShare:!1,styles:{label:g.phoneLabel}}))))},i}(h.default.Component);u.propTypes={appType:o.default.string.isRequired,platform:o.default.oneOf([y.PLATFORM_IOS,y.PLATFORM_ANDROID]).isRequired,isGenerating:o.default.bool.isRequired,exportError:o.default.string,apkError:o.default.string,apkUri:o.default.string},t.default=u,e.exports=t.default},3801:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(0)),o=u(r(1)),a=r(8),i=u(r(4)),l=u(r(3069));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("div",{className:"project_name header_text"},this.props.projectName),o.default.createElement("div",{className:"project_updated_at header_text"},i.default.clickToRemix())),o.default.createElement(l.default,null))},t}(o.default.Component);c.propTypes={projectName:n.default.string.isRequired},t.default=(0,a.connect)(function(e){return{projectName:e.header.projectName}})(c),e.exports=t.default},3802:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedProjectBackedHeader=void 0;var n=c(r(0)),o=c(r(1)),a=r(8),i=c(r(3216)),l=c(r(3217)),u=c(r(3069));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.includeExportInProjectHeader;return o.default.createElement("div",null,o.default.createElement(i.default,null),e&&o.default.createElement(l.default,null),o.default.createElement(u.default,{lightStyle:!0}))},t}(o.default.Component);s.propTypes={includeExportInProjectHeader:n.default.bool.isRequired};t.UnconnectedProjectBackedHeader=s;t.default=(0,a.connect)(function(e){return{includeExportInProjectHeader:e.header.includeExportInProjectHeader}})(s)},3803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(0)),o=u(r(1)),a=r(8),l=u(r(3068)),i=r(408);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=c(this,a.call.apply(a,[this].concat(n)))).saveStartCode=function(){t.props.setProjectUpdatedSaving(),$.ajax({type:"POST",url:"../update_properties",data:JSON.stringify(t.props.getChanges()),dataType:"json",error:t.props.setProjectUpdatedError,success:t.props.setProjectUpdatedSaved})},c(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("div",{className:"project_name header_text"},"Levelbuilder: edit start code"),o.default.createElement(l.default,null)),o.default.createElement("div",{className:"project_remix header_button",onClick:this.saveStartCode},"Save"))},i}(o.default.Component);s.propTypes={getChanges:n.default.func.isRequired,setProjectUpdatedError:n.default.func.isRequired,setProjectUpdatedSaving:n.default.func.isRequired,setProjectUpdatedSaved:n.default.func.isRequired},t.default=(0,a.connect)(function(e){return{getChanges:e.header.getLevelBuilderChanges}},{setProjectUpdatedError:i.setProjectUpdatedError,setProjectUpdatedSaving:i.setProjectUpdatedSaving,setProjectUpdatedSaved:i.setProjectUpdatedSaved})(s),e.exports=t.default},9:function(e,t){e.exports=$}},[[3785,0,1,2]]]);
