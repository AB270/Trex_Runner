(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1694:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,i.getStore)();window.addEventListener("resize",(0,o.default)(function(){e.dispatch((0,u.setResponsiveSize)((0,u.getResponsiveBreakpoint)(window.innerWidth)))},100))};var a,r=n(625),o=(a=r)&&a.__esModule?a:{default:a},i=n(475),u=n(582);e.exports=t.default},2641:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initHamburger=void 0;var a=o(n(9)),r=o(n(109));function o(e){return e&&e.__esModule?e:{default:e}}t.initHamburger=function(){(0,a.default)(function(){(0,a.default)("#hamburger-icon").click(function(e){(0,a.default)(this).toggleClass("active"),(0,a.default)("#hamburger #hamburger-contents").slideToggle(),e.preventDefault()}),(0,a.default)(document).on("click",function(e){var t=(0,a.default)("#hamburger");t.is(e.target)||0!==t.has(e.target).length||(t.children("#hamburger-contents").slideUp(),(0,a.default)("#hamburger-icon").removeClass("active"));var n=(0,a.default)("#help-button");n.is(e.target)||0!==n.has(e.target).length||(n.children("#help-contents").slideUp(),(0,a.default)("#help-icon").removeClass("active"))}),(0,a.default)(".hamburger-expandable-item").each(function(){(0,a.default)(this).click(function(e){(0,a.default)("#"+(0,a.default)(this).attr("id")+"-items").slideToggle(),(0,a.default)(this).find(".arrow-down").toggle(),(0,a.default)(this).find(".arrow-up").toggle(),e.preventDefault()})}),(0,a.default)("#help-icon").click(function(e){(0,a.default)(this).toggleClass("active"),(0,a.default)("#help-button #help-contents").slideToggle(),e.preventDefault()}),(0,a.default)("#help-icon #report-bug").click(function(){(0,r.default)("help_ui","report-bug","hamburger")}),(0,a.default)("#help-icon #support").click(function(){(0,r.default)("help_ui","support","hamburger")}),(0,a.default)(".footer #support").click(function(){(0,r.default)("help_ui","support","studio_footer")}),(0,a.default)("#pagefooter #support").each(function(){(0,a.default)(this).click(function(){(0,r.default)("help_ui","support","studio_footer")})})})}},2642:function(e,t,n){"use strict";e.exports=function(e){for(var t,n=e.console=e.console||{},a=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=0;r<a.length;r++)n[t=a[r]]||(n[t]=function(){})}},2643:function(e,t,n){"use strict";var a,r=n(0),o=(a=r)&&a.__esModule?a:{default:a};var i=o.default.arrayOf(o.default.shape({id:o.default.number,name:o.default.string}));e.exports.studentsShape=i},3045:function(e,t,n){"use strict";var a=b(n(9)),r=b(n(1)),o=b(n(7)),i=n(475),u=n(671),l=b(n(2703)),s=b(n(1694)),d=b(n(2640)),c=b(n(3047)),f=b(n(329)),p=n(3048),h=n(2641),m=n(382);function b(e){return e&&e.__esModule?e:{default:e}}(0,i.getStore)().dispatch((0,u.setRtlFromDOM)()),n(2642)(window);var g=n(307),y=n(3049);window.React=n(1),window.ReactDOM=n(7),window.Radium=n(11),n(1111),n(3050),n(1155),n(1548),n(3051),a.default.fn.modal&&(a.default.fn.modal.Constructor.prototype.enforceFocus=function(){}),window.dashboard=window.dashboard||{},window.dashboard.clientState=n(311),window.dashboard.createCallouts=n(764).default,window.dashboard.hashEmail=d.default,window.dashboard.levelCompletions=n(3052),window.dashboard.popupWindow=n(1676),window.dashboard.reporting=n(1534),window.dashboard.header=n(691),window.dashboard.videos=n(1181),window.dashboard.assets=n(1177),window.dashboard.pairing=n(3053),window.dashboard.project=n(105),window.dashboard.codeStudioLevels={registerGetResult:m.registerGetResult,registerLevel:m.registerLevel,onAnswerChanged:m.onAnswerChanged},window.Dialog=n(606),window.FreeResponse=n(3058),window.Multi=n(2425),window.TextMatch=n(2644);var v=window.onerror;window.onerror=function(e,t,n){if(/^Script error/.test(e)&&t&&(arguments[0]="Script Error: "+t),v)return v.apply(this,arguments)};(0,a.default)(document).keydown(function(e){27===e.keyCode&&(e.stopPropagation(),e.preventDefault())}),setTimeout(function(){(0,a.default)("#codeApp .slow_load").show()},1e4),(0,a.default)(document).ready(function(){if(document.querySelector("script[data-gdpr]")){var e=(0,f.default)("gdpr");e.show_gdpr_dialog&&e.current_user_id&&o.default.render(r.default.createElement(c.default,{isDialogOpen:e.show_gdpr_dialog,currentUserId:e.current_user_id}),document.getElementById("gdpr-dialog"))}}),y(),window.CDOSounds=g.getSingleton();var w=document.querySelector("script[data-usertype]")?(0,f.default)("usertype"):null;(0,p.checkForUnsupportedBrowsersOnLoad)(),(0,h.initHamburger)(),(0,l.default)(w),(0,s.default)()},3047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),r=n(1),u=o(r),l=o(n(26)),s=o(n(4)),d=o(n(67)),c=o(n(297)),f=n(252);function o(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h={dialog:{paddingLeft:20,paddingRight:20,paddingBottom:20},instructions:{marginTop:20}},i=function(o){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t=p(this,o.call.apply(o,[this].concat(a)))).state={isDialogOpen:t.props.isDialogOpen},t.handleYesClick=function(){t.setState({isDialogOpen:!1}),$.post("/dashboardapi/v1/users/accept_data_transfer_agreement",{user_id:t.props.currentUserId})},p(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.render=function(){var e=this.props.studioUrlPrefix,t=e?e+"/users/sign_out":"/users/sign_out";return u.default.createElement(d.default,{useUpdatedStyles:!0,isOpen:this.state.isDialogOpen,style:h.dialog,uncloseable:!0},u.default.createElement("h2",{className:"ui-test-gdpr-dialog"},s.default.gdprDialogHeader()),u.default.createElement("div",null,s.default.gdprDialogDetails()),u.default.createElement("div",{style:h.instructions},u.default.createElement("a",{href:(0,f.pegasus)("/privacy"),className:"ui-test-gdpr-dialog-privacy-link",target:"_blank"},s.default.gdprDialogSeePrivacyPolicy(),".")),u.default.createElement(c.default,null,u.default.createElement(l.default,{text:s.default.gdprDialogLogout(),href:t,color:l.default.ButtonColor.gray,className:"ui-test-gdpr-dialog-logout"}),u.default.createElement(l.default,{text:s.default.gdprDialogYes(),onClick:this.handleYesClick,color:l.default.ButtonColor.orange,className:"ui-test-gdpr-dialog-accept"})))},i}(r.Component);i.propTypes={isDialogOpen:a.default.bool.isRequired,currentUserId:a.default.number.isRequired,studioUrlPrefix:a.default.string},t.default=i,e.exports=t.default},3048:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkForUnsupportedBrowsersOnLoad=void 0;var a,r=n(1196),o=n(9),i=(a=o)&&a.__esModule?a:{default:a};t.checkForUnsupportedBrowsersOnLoad=function(){(0,i.default)(document).ready(function(){var e=null;(0,r.isUnsupportedBrowser)()?e="#unsupported-browser":"undefined"!=typeof appOptions&&((0,r.isMobileDevice)()?"applab"===appOptions.app?e="#applab-unsupported-tablet":"gamelab"===appOptions.app&&(e="#gamelab-unsupported-tablet"):(0,r.isIE11)()&&"fish"===appOptions.app?e="#oceans-unsupported-browser":(0,r.isIE11)()&&"weblab"===appOptions.app?e="#weblab-unsupported-browser":"weblab"!==appOptions.app||(0,r.isStorageAvailable)("localStorage")||(e="#weblab-unsupported-local-storage")),e&&((0,i.default)(e).show(),(0,i.default)("#warning-icon").show(),(0,i.default)("#dismiss-icon").show(),(0,i.default)("#warning-banner").show())})}},3049:function(e,t,n){"use strict";var a,r=n(9),o=(a=r)&&a.__esModule?a:{default:a};var i=n(1181).showVideoDialog;e.exports=function(){(0,o.default)(window).load(function(){0!==(0,o.default)("#reference_area").length&&((0,o.default)(".video_link").each(function(){!function(e,t){var n=function(e){t(e),e.preventDefault()};e.on({touchstart:n,click:n})}((0,o.default)(this),o.default.proxy(function(){i({src:(0,o.default)(this).attr("data-src"),name:(0,o.default)(this).attr("data-name"),key:(0,o.default)(this).attr("data-key"),download:(0,o.default)(this).attr("data-download"),thumbnail:(0,o.default)(this).attr("data-thumbnail"),enable_fallback:!0,autoplay:!0},!0)},this))}),(0,o.default)("#reference_area_target").append((0,o.default)("#reference_area")),(0,o.default)("#reference_area_target").data("minimal")&&(0,o.default)("#reference_area .video_thumbnail").hide())})}},3050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChannelIdFromUrl=void 0;var a=i(n(202)),r=i(n(14)),o=i(n(0)),u=i(n(1)),l=i(n(7)),s=i(n(1520)),d=i(n(94));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=window.alert,p=t.getChannelIdFromUrl=function(e){var t=void 0;return(t=0<=e.indexOf("codeprojects")?/.*codeprojects.*[^\/]+\/([^\/]+)/.exec(e):/.*\/projects\/[^\/]+\/([^\/]+)/.exec(e))&&t[1]},h=function(o){function i(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n=c(this,o.call.apply(o,[this].concat(a)))).handleSubmit=function(e){var t=n.props.i18n;return""===n.refs.email.value?(f(t.t("project.abuse.report_abuse_form.validation.email")),void e.preventDefault()):""===l.default.findDOMNode(n.refs.age).value?(f(t.t("project.abuse.report_abuse_form.validation.age")),void e.preventDefault()):""===n.refs.abuse_type.value?(f(t.t("project.abuse.report_abuse_form.validation.abuse_type")),void e.preventDefault()):""===n.refs.abuse_detail.value?(f(t.t("project.abuse.report_abuse_form.validation.abuse_detail")),void e.preventDefault()):void n.writeCookie()},c(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.getChannelId=function(){var e=this.props.abuseUrl;return p(e)},i.prototype.writeCookie=function(){if(a.default.get("reported_abuse")){var e=JSON.parse(a.default.get("reported_abuse"));e.push(this.getChannelId()),a.default.set("reported_abuse",r.default.uniq(e))}else a.default.set("reported_abuse",[this.getChannelId()])},i.prototype.render=function(){var e=this.props.i18n;return u.default.createElement("div",{style:{width:514}},u.default.createElement("h2",null,e.t("footer.report_abuse")),u.default.createElement("p",null,e.t("project.abuse.report_abuse_form.intro")),u.default.createElement("br",null),u.default.createElement("form",{action:"/report_abuse",method:"post"},u.default.createElement("input",{type:"hidden",name:"authenticity_token",value:this.props.csrfToken}),u.default.createElement("input",{type:"hidden",name:"channel_id",value:this.getChannelId()}),u.default.createElement("input",{type:"hidden",name:"name",value:this.props.name}),u.default.createElement("div",{style:{display:this.props.email?"none":"block"}},u.default.createElement("div",null,e.t("activerecord.attributes.user.email")),u.default.createElement("input",{type:"text",style:{width:500},defaultValue:this.props.email,name:"email",ref:"email",id:"uitest-email"})),u.default.createElement("div",{style:{display:this.props.age?"none":"block"}},u.default.createElement("div",null,e.t("activerecord.attributes.user.age")),u.default.createElement(s.default,{style:{width:514},ref:"age",age:this.props.age})),u.default.createElement("div",null,e.t("project.abuse.report_abuse_form.abusive_url")),u.default.createElement("input",{type:"text",readOnly:!!this.props.abuseUrl,style:{width:500},defaultValue:this.props.abuseUrl,name:"abuse_url"}),u.default.createElement("div",null,u.default.createElement(d.default,{markdown:e.t("project.abuse.report_abuse_form.abuse_type.question",{link_start:'<a href="https://code.org/tos" target="_blank">',link_end:"</a>"})})),u.default.createElement("select",{style:{width:514},name:"abuse_type",ref:"abuse_type",id:"uitest-abuse-type"},u.default.createElement("option",{value:""}),u.default.createElement("option",{value:"harassment"},e.t("project.abuse.report_abuse_form.abuse_type.harassment")),u.default.createElement("option",{value:"offensive"},e.t("project.abuse.report_abuse_form.abuse_type.offensive")),u.default.createElement("option",{value:"infringement"},e.t("project.abuse.report_abuse_form.abuse_type.infringement")),u.default.createElement("option",{value:"other"},e.t("project.abuse.report_abuse_form.abuse_type.other"))),u.default.createElement("div",null,e.t("project.abuse.report_abuse_form.detail")),u.default.createElement("textarea",{style:{width:500,height:100},name:"abuse_detail",ref:"abuse_detail",id:"uitest-abuse-detail"}),u.default.createElement("div",null,u.default.createElement(d.default,{markdown:e.t("project.abuse.report_abuse_form.acknowledge",{link_start_privacy:'<a href="https://code.org/privacy" target="_blank">',link_start_tos:'<a href="https://code.org/tos" target="_blank">',link_end:"</a>"})})),u.default.createElement("button",{type:"submit",onClick:this.handleSubmit,id:"uitest-submit-report-abuse"},e.t("submit"))))},i}(u.default.Component);h.propTypes={i18n:o.default.object.isRequired,csrfToken:o.default.string.isRequired,abuseUrl:o.default.string.isRequired,name:o.default.string,email:o.default.string,age:o.default.oneOfType([o.default.string,o.default.number])},t.default=h,window.dashboard=window.dashboard||{},window.dashboard.ReportAbuseForm=h},3051:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),r=o(n(1)),u=n(156),l=o(n(1581));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d={button:{float:"left",marginRight:"5px"},attachment:{background:"#08c",color:"#fff",borderRadius:"4px",padding:"0 5px",margin:"4px 4px 4px 0",float:"left",fontSize:"0.8em"}},i=function(o){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t=s(this,o.call.apply(o,[this].concat(a)))).state={loaded:!1},t.onAssetListReceived=function(e){l.default.reset(e.files),t.isMounted_&&t.setState({loaded:!0})},t.showAssetManager=function(){dashboard.assets.showAssetManager(null,"document",t.setState.bind(t,{loaded:!0}),{showUnderageWarning:t.props.showUnderageWarning})},s(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.componentWillMount=function(){u.assets.getFiles(this.onAssetListReceived)},i.prototype.componentDidMount=function(){this.isMounted_=!0},i.prototype.componentWillUnmount=function(){this.isMounted_=!1},i.prototype.render=function(){var e=r.default.createElement("span",{style:{fontSize:"0.8em"}},"Loading...");this.state.loaded&&(e=l.default.list().map(function(e){var t=u.assets.basePath(e.filename);return r.default.createElement("a",{key:e.filename,style:d.attachment,href:t,className:"uitest-attachment",target:"_blank"},e.filename)}));var t=void 0;return this.props.readonly||(t=r.default.createElement("input",{style:d.button,className:"btn btn-default",type:"button",value:"Add/Remove Attachments",onClick:this.showAssetManager})),r.default.createElement("span",null,t,e)},i}(r.default.Component);i.propTypes={readonly:a.default.bool,showUnderageWarning:a.default.bool},t.default=i,window.dashboard=window.dashboard||{},window.dashboard.Attachments=i,e.exports=t.default},3052:function(e,t,n){"use strict";var a,r=n(9),o=(a=r)&&a.__esModule?a:{default:a};function i(e,t,n,a,r,o,i){var u=[[.7,"#00FF00"],[.5,"#b4ff00"],[.45,"#ccff00"],[.4,"#ffff00"],[.3,"#ffdf00"],[.2,"#ff8100"],[.15,"#ff9900"],[.1,"#ff0000"],[.05,"#a61c00"],[0,"#5b0f00"]];Handsontable.renderers.NumericRenderer.apply(this,arguments);for(var l=parseFloat(o),s=0;s<u.length;s++)if(l>=u[s][0])return void(t.style.background=u[s][1])}function u(e,t,n,a,r,o,i){var u=[[.98,"#00FF00"],[.95,"#94ff20"],[.92,"#b5ff04"],[.9,"#d7ff00"],[.85,"#efff00"],[.82,"#ffdf00"],[.8,"#ff9900"],[.75,"#ff6900"],[.7,"#ff3a00"],[0,"#ff0000"]];Handsontable.renderers.NumericRenderer.apply(this,arguments);for(var l=parseFloat(o),s=0;s<u.length;s++)if(l>=u[s][0])return void(t.style.background=u[s][1])}function l(e,t,n,a,r,o,i){var u=0;if(o){var l=parseFloat(o),s=Math.floor(l/60),d=l-60*s;o=("0"+s).substr(-2)+":"+("0"+d).substr(-2),u=Math.min(1,l/600)}Handsontable.renderers.TextRenderer.apply(this,arguments),t.style["font-family"]="monospace",t.style.background="linear-gradient(90deg, silver "+100*u+"%, white 0%)"}t.hideAndShowDomElements=function(e,t){e&&(0,o.default)("#samplingMessage").show(),t&&(0,o.default)("#completionTable").show()},t.populateTable=function(e,t){(0,o.default)("#completionTable").handsontable({data:t,startRows:10,startCols:9,colHeaders:e,colWidths:[200,100,100,100,100,100,100,100,100,100],stretchH:"none",columnSorting:!0,manualColumnResize:!0,columns:[{data:"Puzzle"},{data:"TotalAttempt",type:"numeric"},{data:"TotalSuccess",type:"numeric"},{data:"Avg Success Rate",type:"numeric",format:"0.00%"},{data:"Avg attempts per completion",type:"numeric",format:"0.00"},{data:"UniqueAttempt",type:"numeric"},{data:"UniqueSuccess",type:"numeric"},{data:"Perceived Dropout",type:"numeric"},{data:"Avg Unique Success Rate",type:"numeric",format:"0.00%"},{data:"timeOnSite"}],cells:function(e,t,n){return 3===t?{renderer:i}:8===t?{renderer:u}:9===t?{renderer:l}:{}}})}},3053:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(9)),i=a(n(1)),u=a(n(7)),l=a(n(3054));function a(e){return e&&e.__esModule?e:{default:e}}t.default={init:function(t,e,n){var a=void 0;function r(){if(!a){var e=document.createElement("div");e.id="pairing",document.body.appendChild(e),a=u.default.render(i.default.createElement(l.default,{source:t}),e)}a.open()}n&&r(),(0,o.default)("#pairing_link").show().click(function(){return r(),e(),!1})}},e.exports=t.default},3054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),r=o(n(1)),u=o(n(3055)),l=o(n(67));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(o){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t=s(this,o.call.apply(o,[this].concat(a)))).state={isOpen:!1},t.close=function(){return t.setState({isOpen:!1})},t.open=function(){return t.setState({isOpen:!0})},s(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.render=function(){return r.default.createElement(l.default,{isOpen:this.state.isOpen,handleClose:this.close},r.default.createElement(u.default,{source:this.props.source,handleClose:this.close}))},i}(r.default.Component);i.propTypes={source:a.default.string},t.default=i,e.exports=t.default},3055:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(9)),a=o(n(0)),r=o(n(1)),l=o(n(3056)),s=o(n(3057)),d=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(o){function i(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n=c(this,o.call.apply(o,[this].concat(a)))).state={pairings:[],sections:[]},n.handleSectionChange=function(e){n.setState({pairings:[],sections:n.state.sections,selectedSectionId:+e.target.value})},n.refreshUserMenu=function(){u.default.ajax({type:"GET",url:"/dashboardapi/user_menu",success:function(e){return(0,u.default)("#sign_in_or_user").html(e)}})},n.handleAddPartners=function(t){var e=n.selectedSection().students.filter(function(e){return-1!==t.indexOf(e.id)});n.props.handleClose&&n.props.handleClose(),u.default.ajax({url:n.props.source,data:JSON.stringify({pairings:e}),contentType:"application/json; charset=utf-8",method:"PUT",dataType:"json",context:n}).done(n.refreshUserMenu).fail(function(e,t,n){})},n.handleStop=function(e){n.setState({pairings:[]}),u.default.ajax({url:n.props.source,data:JSON.stringify({pairings:[]}),contentType:"application/json; charset=utf-8",method:"PUT",dataType:"json"}).done(function(){n.refreshUserMenu(),n.props.handleClose()}).fail(function(e,t,n){}),e.preventDefault()},c(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.componentWillMount=function(){var t=this;u.default.ajax({url:this.props.source,method:"GET",dataType:"json"}).done(function(e){t.setState({pairings:e.pairings,sections:e.sections})}).fail(function(e){})},i.prototype.selectedSectionId=function(){return 1===this.state.sections.length?+this.state.sections[0].id:this.state.selectedSectionId},i.prototype.selectedSection=function(){var t=this.selectedSectionId();return t&&this.state.sections.find(function(e){return e.id===t})||null},i.prototype.studentsInSection=function(){var e=this.selectedSection();return e?e.students:null},i.prototype.renderPairingSelector=function(){return r.default.createElement("div",{style:{maxHeight:.8*window.innerHeight-100,overflowY:"auto"}},r.default.createElement("p",{className:"dialog_title"},d.default.pairProgramming()),r.default.createElement("h1",null,d.default.pairProgrammingChosePartners()),r.default.createElement("br",null),r.default.createElement("form",null,r.default.createElement(l.default,{sections:this.state.sections,selectedSectionId:this.selectedSectionId(),handleChange:this.handleSectionChange}),r.default.createElement("div",{className:"clear"}),r.default.createElement(s.default,{students:this.studentsInSection(),handleSubmit:this.handleAddPartners})))},i.prototype.renderPairingState=function(){return r.default.createElement("div",null,r.default.createElement("h1",null,d.default.pairProgramming()),r.default.createElement("h2",null,d.default.pairProgrammingWith()),this.state.pairings.map(function(e){return r.default.createElement("div",{key:e.id,"data-id":e.id,className:"student"},e.name)}),r.default.createElement("div",{className:"clear"}),r.default.createElement("button",{type:"button",className:"stop",onClick:this.handleStop},d.default.pairProgrammingStop()),r.default.createElement("button",{type:"button",className:"ok",onClick:this.props.handleClose},"OK"))},i.prototype.render=function(){return 0===this.state.pairings.length?this.renderPairingSelector():this.renderPairingState()},i}(r.default.Component);i.propTypes={source:a.default.string,handleClose:a.default.func},t.default=i,e.exports=t.default},3056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(0)),r=u(n(1)),o=n(2643),i=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return 0===this.props.sections.length||1===this.props.sections.length?null:r.default.createElement("select",{name:"sectionId",value:this.props.selectedSectionId,onChange:this.props.handleChange},r.default.createElement("option",{key:"blank",value:""},i.default.chooseSection()),this.props.sections.map(function(e){return r.default.createElement("option",{key:e.id,value:e.id},e.name)}))},t}(r.default.Component);l.propTypes={sections:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,students:o.studentsShape})),selectedSectionId:a.default.number,handleChange:a.default.func.isRequired},t.default=l,e.exports=t.default},3057:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),r=i(n(1)),o=n(2643),u=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(o){function i(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r=l(this,o.call.apply(o,[this].concat(n)))).state={selectedStudentIds:[]},r.handleStudentClicked=function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.state.selectedStudentIds)),n=+e.target.getAttribute("data-id"),a=t.indexOf(n);-1===a?t.push(n):t.splice(a,1),r.setState({selectedStudentIds:t})},r.handleSubmit=function(e){r.props.handleSubmit(r.state.selectedStudentIds),e.preventDefault()},l(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.render=function(){var n=this;if(!this.props.students)return null;if(0===this.props.students.length)return r.default.createElement("span",null,u.default.noStudentsInSection());var e=this.props.students.map(function(e){var t="student selectable";return-1!==n.state.selectedStudentIds.indexOf(e.id)&&(t="student selectable selected"),r.default.createElement("div",{key:e.id,"data-id":e.id,className:t,onClick:n.handleStudentClicked},e.name)});return r.default.createElement("div",null,e,r.default.createElement("div",{className:"clear"}),0!==this.state.selectedStudentIds.length&&r.default.createElement("button",{type:"button",onClick:this.handleSubmit,className:"addPartners"},u.default.addPartners()))},i}(r.default.Component);s.propTypes={students:o.studentsShape,handleSubmit:a.default.func.isRequired},t.default=s,e.exports=t.default},3058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(9),o=(a=r)&&a.__esModule?a:{default:a},i=n(39),u=n(382),l=n(311);var s=function(){function t(n,e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.levelId=n,this.optional=[!0,"true"].includes(e),(0,o.default)(document).ready(function(){var e=(0,o.default)("textarea#level_"+n+".response");if(!e.val()){var t=(0,l.sourceForLevel)(window.appOptions.scriptName,n);t&&e.val(t)}e.blur(function(){(0,u.onAnswerChanged)(n,!0)}),e.on("input",null,null,function(){(0,u.onAnswerChanged)(n,!1)})})}return t.prototype.getOptional=function(){return this.optional},t.prototype.getResult=function(){var e=(0,o.default)("#level_"+this.levelId).val();return{response:e,valid:0<e.length,result:!0,testResult:i.TestResults.FREE_PLAY}},t.prototype.getAppName=function(){return"free_response"},t.prototype.lockAnswers=function(){(0,o.default)("textarea#level_"+this.levelId+".response").prop("disabled",!0)},t.prototype.getCurrentAnswerFeedback=function(){},t}();t.default=s,e.exports=t.default},3671:function(e,t,n){n(65),n(66),e.exports=n(3045)},9:function(e,t){e.exports=$}},[[3671,0,1,2]]]);
